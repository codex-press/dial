@import "_variables.less";
@import "figure.less";
@import "table.less";
@import "utility-classes.less";

@mobile:  ~"(max-width: 450px)";
@tablet:  ~"(min-width: 451px) and (max-width: 800px)";
@laptop:  ~"(min-width: 801px) and (max-width: 1100px)";
@desktop: ~"(min-width: 1101px)";


html {
  @media @mobile { font-size: 18px; }
  @media @tablet { font-size: 18px; }
  @media @laptop { font-size: 18px; }
  @media @desktop { font-size: 20px; }
}

html {
  color: @fontColor;
  background-color: @backgroundColor;
}

body {
  line-height: @lineHeight;
}

article {
   position: relative;
   padding: 0em 1em 1em 1em;
}

h1, h2, h3, h4, h5, h6 {
  font-family: @headingFont;
  line-height: 95%;
  font-weight: 700;
  max-width: @textWidth;
  margin: 1rem auto;
 }

h1    { font-size: @h1Size; }
p.dek { font-size: @dekSize; }

h2, h3    { font-size: 1.728em; }
h4    { font-size: 1.728em; }
h5    { font-size: 1.440em; }
h6    { font-size: 1.200em; }

@h1Size: 2.986em;

.headers(@size, @multiplier) {
  .@{size}      { font-size: ~'@{multiplier}em'; }
  h1.@{size}    { font-size: (@h1Size * @multiplier); }
  p.dek.@{size} { font-size: (@dekSize * @multiplier); }
}

.headers(xxlarge, 3);
.headers(xlarge, 2);
.headers(large, 1.5);
.headers(small, .8);
.headers(xsmall, .5);


// these could easily have words that are bigger than one line and they
// should at least wrap so they can be read
h1.large, h1.xlarge, h1.xxlarge {
  word-wrap: break-word;
}

p {
  font-family: @bodyFont;
  font-size: 1em;
  font-weight: 200;
  line-height: @lineHeight;
  max-width: @textWidth;
  margin: 1.6rem auto;
  padding-bottom: 0em;
}

:not(p) > address.byline:before {
  content: 'By';
}

:not(p) > address.byline {
  font-family: @headingFont;
  font-size: 0.75em;
  line-height: 2;
  width: @textWidth;
  max-width: 100%;
  margin: 0 auto;
}

p > address.byline {
  display: inline;
}

// when it's inside a div it acts like a <p>
div > time.publication-date {
  display: block;
  width: @textWidth;
  max-width: 100%;
  margin: 0 auto;
  color: grey;
  font-family: 'Ubuntu', sans-serif;
  text-transform: uppercase;
  font-size: 0.6em;
}

.sharing-icons {
  width: 34rem;
  margin-left: auto;
  margin-right: auto;
  margin-bottom: 1em;
}

.sharing-icons a {
  color: @fontColor;
}

p.folio {
  margin-top: 0em;
  font-weight: 400;
  font-size: 0.85em;
}

p.lede {
  font-size: 1.2em;
  line-height: 1.3em;
}

@media (max-width: 600px) {
  p.lede {
    font-family: @bodyFont;
    font-size: 1em;
    font-weight: 200;
    line-height: @lineHeight;
    max-width: @textWidth;
    margin: 1.6rem auto;
    padding-bottom: 0em;
  }
}

.article-meta:after {
  content: "";
  display: block;
  margin: 20px auto;
  height: 2px;
  width: 200px;
  background: @detailColorDark;
}

section > p:first-child,
.section-start {
  margin-top: 4em;
}

.subhed {
  h1&, h2&, h3&, h4&, h5&, h6& {
    width: @textWidth;
    max-width: 100%;
  }
}

blockquote, aside, ul, ol {
  width: @textWidth;
  max-width: 100%;
}

.summary {
  font-family: 'Proxima Nova';
  position: relative;
  background: @lightGrey;
    display: block;
    max-width: 34rem;
    margin: 1em auto;
    padding: 1.5em;
    line-height: 1.4em;
}

.summary:after {
    content: "";
    position: absolute;
    height: 100%;
    width: 100%;
    top: -10px;
    left: -10px;
    z-index: -1;
    background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAGklEQVQYV2PkVVz4//P9eEYGJIDCgYlTKAgAkusEBoo88swAAAAASUVORK5CYII=);
  }

.summary h2 {
  font-size: 1em;
}

.authorbox {
  max-width: @textWidth;
  margin: 2rem auto;
  font-family: @headingFont;
  font-size: 0.8em;
  letter-spacing: 0.5px;
  font-weight: 300;
}

.authorbox p {
  margin-top: 20px;
}

.authorbox:before {
  content: "";
  display: block;
  height: 7px;
  width: 35px;
  background: black;
}

@media @floatBreak {

  .left {
    p, h1, h2, h3, h4, h5, h6,
    time.publication-date,
    address.byline,
    .share-menu,
    .text-width,
    .subhed,
    p&  {
      margin-left: 0;
    }
  }

  .right {
    p, h1, h2, h3, h4, h5, h6,
    time.publication-date,
    address.byline,
    .share-menu,
    .text-width,
    .subhed,
    p& {
      margin-right: 0;
    }
  }

  .slight-left {
    p, h1, h2, h3, h4, h5, h6,
    figure:not(.left):not(.right),
    time.publication-date,
    address.byline,
    .share-menu,
    .text-width,
    .subhed,
    p&  {
      margin-left: calc(33% - (@textWidth/2));
    }
  }

  .slight-right {
    p, h1, h2, h3, h4, h5, h6,
    figure:not(.left):not(.right),
    time.publication-date,
    address.byline,
    .share-menu,
    .text-width,
    .subhed,
    p&  {
      margin-right: calc(33% - (@textWidth/2));
    }
  }

}

//}

// Inline
// ------



span.dropcap {
  position: relative;
  background: @detailColorDark;
  color: white;
  margin-right: 10px;
  margin-top: 12px;
  display: inline-block;
  float: left;
  padding: 0.6em;
  font-size: 3em;
  font-weight: 500;
  line-height: .78;
}

span.dropcap.red {
  background: red;
  color: black;
}

code {
  background-color: @codeBackgroundColor;
}

p a {
  color: black;
  text-decoration: underline;
  text-decoration-color: @detailColor;
  text-decoration-skip: ink;
}

h2 a {
  color: black;
  text-decoration: none;
}

a:hover {
  color: @detailColor;
}

a:visited {
  color: @anchorVisitedColor;
}

.share-menu {
  width: @textWidth;
  max-width: 100%;
  font-size: 1.5rem;
  position: relative;
  text-align: center;
  margin: 1em auto;
}

.share-menu a {
  color: inherit;
  text-decoration: none;
  margin: .5em;
}

ul, ol {
  margin: 1rem auto;
}

li {
  font-family: @bodyFont;
  margin: .5rem 0 2rem;
  font-size: 0.9em;
}

// quotes

aside.pullquote {
  font-family: @headingFont;
  color: @fontColor;
  font-weight: 600;
  text-align: center;
  margin: 1.2rem auto;
  padding: 1.6rem;
  line-height: 1.8;
  font-size: 1.6rem;
  width: 38rem;
  border-top: 1px solid black;
  border-bottom: 1px solid black;
}

aside.pullquote.left,
aside.pullquote.right {
  width: 25%;
  line-height: 1.05;
}

aside.pullquote .attribution:before {
  content: "\2014";
}

aside.sidebar {
  margin: 1rem auto;
  padding: 0 1rem;
  border: 1px solid grey;
}

aside.sidebar {
  h1, h2, h3, h4, h5, h6 {
    font-size: 1.7rem;
  }
}

.article-text {
  max-width: 34rem;
  margin: 0 auto;
}

aside.pullquote.left,
aside.sidebar.left {
  float: left;
  clear: both;
  margin-right: 1rem;
}

aside.pullquote.right,
aside.sidebar.right {
  float: right;
  clear: both;
  margin-left: 1rem;
}

aside.pullquote.right,
aside.pullquote.left {
  margin-top: 0;
  margin-bottom: 0;
  padding: 0;
  border: none;
  width: 50%;
  text-align: left;
  @oneThirdLine: (@lineHeight / 3);
  //margin-top: ~'@{oneThirdLine}rem';
}

aside.sidebar.right,
aside.sidebar.left {
  margin-top: 0;
}

.title:after {
  content: "";
  position: relative;
  width: 200px;
  bottom: 1px solid white;
}

blockquote {
  font-family: @headingFont;
  line-height: 1.4;
  font-size: 1em;
  margin: 1rem auto;
  padding: 0 0.5rem;
  border-left: 5px solid @detailColor;
}

@media (max-width: 800px) {
  aside.pullquote.left,
  aside.sidebar.left {
    margin-right: 0;
  }

  aside.pullquote.right,
  aside.sidebar.right {
    margin-left: 0;
  }

  aside.pullquote.right,
  aside.pullquote.left {
    text-align: left;
    float: none;
    margin: 0;
    padding: 0;
    width: 100%;
    @oneThirdLine: (@lineHeight / 3);
    //margin-top: ~'@{oneThirdLine}rem';
  }

  aside.sidebar.right,
  aside.sidebar.left {
    margin-top: 0;
  }
}

//latest stories

.latest {
  max-width: @textWidth;
  margin-left: auto;
  margin-right: auto;
}

.newsarticle {
  height: 220px;
  line-height: 0em;
  margin-bottom: 1em;
  padding-bottom: 0em;
  padding-top: 1em;
  border-top: 1px solid @lightGrey;
}

.newsarticle .cover {
  margin-left: 0em;
  margin-right: 1em;
  position: relative;
  width: 40%;
  height: 200px;
  margin-bottom: 2em;
  float: left;
  clear: both;
  background-position: 50% 50% !important;
}

.newsarticle p {
  color: grey;
  font-size: 15px;
  margin-top: 0;
  line-height: 1em;
}

.newsarticle a {
  color: inherit;
  text-decoration: none;}

.newsarticle:hover{
  color: @detailColor;
  transition: 0.3s ease-in-out;
}

.newsarticle:hover .cover {
  filter: brightness(0.7);
  transition: 350ms ease-in-out;
}

.newsarticle h2 {
  font-size: 25px;
  padding-top: 0;
}

.newsarticle .folio {
  font-size: 12px;
}

@media (max-width: 450px) {
  body {
    padding: 0;
  }

  .latest {
    margin: 5rem 0rem;
  }

  .latest .cover {
    display: none;
  }

  .newsarticle {
    height: auto;
  }
}

.latest {
  position: sticky;
  margin-top: 2em;
  float: right;
  width: 25%;
}

.latest:before {
  content: "";
  display: block;
  height: 7px;
  width: 35px;
  background: #000;
}

.latest h3 {
  font-size: 20px;
}

.newsarticle {
  height: auto;
}

.newsarticle .cover {
  width: 100%;
  margin-right: 0;
  margin-bottom: 10px;
}

@media (max-width: 1200px) {
  .latest {
    float: none;
    width: 100%;
    clear: none;
    margin-top: 5em;
  }

  .latest h3 {
    margin-top: 0;
  }

  .latest .cover {
    width: 200px;
    height: 120px;
    margin-right: 1em;
    margin-bottom: 1em;
  }

  .newsarticle {
    margin-bottom: 80px;
  }
}

@media (max-width: 450px) {
  .newsarticle {
    margin-bottom: 0;
  }

  .latest .cover {
    display: block;
    width: 100%;
    height: initial;
  }
}

@media (min-width: 1200px) {
  .latest p {
    display: none;
  }
}


// subscribe form

.signup {
  position: relative;
  background: @backgroundColor;
  box-shadow: none;
  padding: 0;
  border: 1px solid black;
  text-align: left;
  margin: 2em auto;
  max-width: @textWidth;}

.subscribe {
  padding-left: 20px;
  padding-right: 20px;
  padding-top: 20px;}

.subscribe h3 {
    font-size: 30px;
    font-weight: 400;
    margin: auto;
    padding-bottom: 20px;
}

.socialmedia {
  padding-top: 20px;
  display: -ms-flexbox;
  display: flex;
  -ms-flex-direction: row;
  flex-direction: row;}

.socialmedia a {
  color: black;
  text-decoration: none;}


@media (max-width: 800px) {
  .socialmedia {
    width: 100%;
    padding-top: 20px;
    display: -ms-flexbox;
    display: flex;
    -ms-flex-direction: column;
    flex-direction: column;
  }

  .fb {
    border-right: none !important;
  }
}

#mailchimp {
  width: 100%;}

.fb {
    border: 0;
    padding: 0;
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    font-family: @headingFont;
    font-size: 12px;
    text-align: center;
    letter-spacing: .04em;
    text-transform: uppercase;
    display: block;
    width: 100%;
    padding: 5px;
    border-top: 1px solid black;
    border-right: 1px solid black;}

.tw {
  border: 0;
  padding: 0;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  text-align: center;
  font-family: @headingFont;
  letter-spacing: .04em;
  text-transform: uppercase;
  font-size: 12px;
  display: block;
  width: 100%;
  padding: 5px;
  border-top: 1px solid black;
}

.fb:hover,
.tw:hover {
  background: #f2f2f2;}

#mailchimp {
  padding-bottom: 2em;
  border-bottom: 1px solid grey;
}

  #mailchimp input {
    font-family: @headingFont;
    border: none;
    font-size: 12px;
    margin-bottom: 1em;
    width: 70%;
    -webkit-appearance:none;
    -webkit-border-radius: 0;
    float: left;
	}
		#mailchimp input.email { background: none; border: none; }
		#mailchimp input[type="submit"] {
      font-family: @headingFont;
      text-align: center;
      background: none;
      border: none;
			color: black;
      font-weight: bold;
			font-size: 12px;
			width: 30%;
      -webkit-appearance:none;
      -webkit-border-radius: 0;

		}
			#mailchimp input[type="submit"]:hover {
        color: @detailColor;
      }

article.feature h2 {
    display: table;
   font-size: 1em;
   text-transform: uppercase;
   background: black;
   color: white;
   text-align: center;
   padding: 10px;
   margin-top: 2em;
   margin-left: auto;
   margin-right: auto;
   font-weight: 400;
  }
