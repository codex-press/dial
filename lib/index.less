@import "_variables.less";
@import "figure.less";
@import "table.less";
@import "utility_classes.less";

@mobile:  ~"(max-width: 450px)";
@tablet:  ~"(min-width: 451px) and (max-width: 800px)";
@laptop:  ~"(min-width: 801px) and (max-width: 1100px)";
@desktop: ~"(min-width: 1101px)";

html {
  @media @mobile { font-size: 18px; }
  @media @tablet { font-size: 16px; }
  @media @laptop { font-size: 18px; }
  @media @desktop { font-size: 20px; }
}

html {
  color: @fontColor;
  background-color: @backgroundColor;
}

body {
  line-height: @lineHeight;
}

article {
   position: relative;
   padding: 0em 1em 1em 1em;
}

.full-window h1 {
  text-align: center;
}

h1, h2, h3, h4, h5, h6 {
  font-family: 'Raleway', sans-serif;
  line-height: 95%;
  font-weight: 700;
  max-width: @textWidth;
  margin: 1rem auto;
 }

h1    { font-size: @h1Size; }
p.dek { font-size: @dekSize; }

h2, h3    { font-size: 1.728em; }
h4    { font-size: 1.728em; }
h5    { font-size: 1.440em; }
h6    { font-size: 1.200em; }

@h1Size: 2.986em;

.headers(@size, @multiplier) {
  .@{size}      { font-size: ~'@{multiplier}em'; }
  h1.@{size}    { font-size: (@h1Size * @multiplier); }
  p.dek.@{size} { font-size: (@dekSize * @multiplier); }
}

.headers(xxlarge, 3);
.headers(xlarge, 2);
.headers(large, 1.5);
.headers(small, .8);
.headers(xsmall, .5);


// these could easily have words that are bigger than one line and they
// should at least wrap so they can be read
h1.large, h1.xlarge, h1.xxlarge {
  word-wrap: break-word;
}

p {
  font-family: freight-text-pro, 'Lora', serif;
  font-size: 0.9em;
  font-weight: 400;
  line-height: 1.4;
  max-width: @textWidth;
  margin: 1.4rem auto;
}

:not(p) > address.byline:before {
  content: 'By';
}

:not(p) > address.byline {
  font-family: 'Raleway', sans-serif;
  font-size: 0.75em;
  line-height: 2;
  width: @textWidth;
  max-width: 100%;
  margin: 0 auto;
}

p > address.byline {
  display: inline;
}

// when it's inside a div it acts like a <p>
div > time.pubdate {
  display: block;
  width: @textWidth;
  max-width: 100%;
  margin: 0 auto;
  color: grey;
  font-family: 'Ubuntu', sans-serif;
  text-transform: uppercase;
  font-size: 0.6em;
}

p.kicker {
  padding-top: 4em;
  font-weight: 600;
  font-size: 0.85em;
}

p.lede {
  font-size: 1.2em;
  font-weight: bold;
}

section > p:first-child,
.section-start {
  margin-top: 4em;
}

.subhed {
  h1&, h2&, h3&, h4&, h5&, h6& {
    width: @textWidth;
    max-width: 100%;
  }
}

blockquote, aside, ul, ol {
  width: @textWidth;
  max-width: 100%;
}

.authorbox p {
  font-family: 'Raleway', sans-serif;
  font-size: 0.8em;
  font-weight: 300;
  color: grey;
  padding-top: 0;
  margin-top: 3em;
  border-top: 1px solid lightgrey;
}

@media @floatBreak {

  .left {
    p, h1, h2, h3, h4, h5, h6,
    time.pubdate,
    address.byline,
    .share-menu,
    .text-width,
    .subhed,
    p&  {
      margin-left: 0;
    }
  }

  .right {
    p, h1, h2, h3, h4, h5, h6,
    time.pubdate,
    address.byline,
    .share-menu,
    .text-width,
    .subhed,
    p& {
      margin-right: 0;
    }
  }

  .slight-left {
    p, h1, h2, h3, h4, h5, h6,
    figure:not(.left):not(.right),
    time.pubdate,
    address.byline,
    .share-menu,
    .text-width,
    .subhed,
    p&  {
      margin-left: calc(33% - (@textWidth/2));
    }
  }

  .slight-right {
    p, h1, h2, h3, h4, h5, h6,
    figure:not(.left):not(.right),
    time.pubdate,
    address.byline,
    .share-menu,
    .text-width,
    .subhed,
    p&  {
      margin-right: calc(33% - (@textWidth/2));
    }
  }

}

// Inline
// ------

.dropcap {
  display: inline-block;
  float: left;
  padding-right: .25rem;
  font-size: 6.2em;
  line-height: .78;
}

code {
  background-color: @codeBackgroundColor;
}

.photo-credit {
  color: @photoCreditColor;
}

p a {
  color: @anchorColor;
  text-decoration: underline;
}

h2 a {
  color: black;
  text-decoration: none;
}

a:hover {
  color: grey;
}

a:visited {
  color: @anchorVisitedColor;
}

.share-menu {
  width: @textWidth;
  max-width: 100%;
  font-size: 1.5rem;
  position: relative;
  text-align: center;
  margin: 1em auto;
}

.share-menu a {
  color: inherit;
  text-decoration: none;
  margin: .5em;
}

ul, ol {
  margin: 1rem auto;
}

li {
  margin: .5rem 0;
}

// quotes

aside.pullquote {
  font-family: 'Raleway', sans-serif;
  color: @detailColor;
  font-style: italic;
  font-weight: bold;
  text-align: left;
  margin: 1rem auto;
  padding-top: 1rem;
  font-size: 1.4em;
  line-height: 1.3;
}

aside.pullquote:before {
  content: '';
  display: block;
  position: relative;
  width: 45%;
  border-top: 5px solid @detailColor;
  top: -0.3em;
}

aside.pullquote.left,
aside.pullquote.right {
  width: 33%;
}

aside.pullquote:after {
  content: '';
  display: none;
  position: relative;
  width: 45%;
  border-top: 5px solid @detailColor;
  margin-top: 1.3em;
  top: -0.8em;
}

aside.pullquote.right:before {
  content: '';
  display: block;
  position: relative;
  width: 45%;
  margin-left: 7em;
  border-top: 5px solid @detailColor;
  top: -0.3em;
}

aside.pullquote.right:after {
  content: '';
  display: none;
  position: relative;
  width: 45%;
  margin-left: 7em;
  border-top: 5px solid @detailColor;
  margin-top: 1.3em;
  top: -0.8em;
}

aside.pullquote .attribution:before {
  content: "\2014";
}

aside.sidebar {
  margin: 1rem auto;
  padding: 0 1rem;
  border: 1px solid grey;
}

aside.sidebar {
  h1, h2, h3, h4, h5, h6 {
    font-size: 1.7rem;
  }
}

@media @floatBreak {

  aside.pullquote.left,
  aside.sidebar.left {
    float: left;
    clear: both;
    margin-right: 1rem;
  }

  aside.pullquote.right,
  aside.sidebar.right {
    float: right;
    clear: both;
    margin-left: 1rem;
  }

  aside.pullquote.right,
  aside.pullquote.left {
    @oneThirdLine: (@lineHeight / 3);
    margin-top: ~'@{oneThirdLine}rem';
  }

  aside.sidebar.right,
  aside.sidebar.left {
    margin-top: 0;
  }

}

blockquote {
  font-family: 'Raleway', sans-serif;
  font-weight: bold;
  font-size: 1.2em;
  margin: 1rem auto;
  padding: 0 1rem;
  border-left: 5px solid @detailColor;
}

@media (max-width: 800px) {

  aside.sidebar.left,
  aside.pullquote.left {
  font-size: 1.2em;
  }

  aside.sidebar.right,
  aside.pullquote.right {
  font-size: 1.2em;
  }
}


// this causes the lines above and below the quotes to align left

@media (max-width: 1087px) {

  aside.pullquote.left,
  aside.pullquote.right {
    width: @textWidth;
  }

  aside.pullquote.right:before,
  aside.pullquote.right:after {
    margin-left: 0em;
  }
}

// on extra large screens they stay somewhat in the middle

@media (min-width: 1400px) {

  aside.sidebar.left,
  aside.pullquote.left {
    margin-left: 5%;
  }

  aside.sidebar.right,
  aside.pullquote.right {
    margin-right: 5%;
  }

}

//no idea what this is

//.sidenav {
    //height: 100%;
    //width: 0;
    //position: fixed;
    //z-index: 1;
    //top: 0;
    //left: 0;
    //background-color: #111;
    //overflow-x: hidden;
    //transition: 0.5s;
    //padding-top: 60px;
//}

//.sidenav a {
    //padding: 8px 8px 8px 32px;
    //text-decoration: none;
    //font-size: 40px;
    //color: #818181;
    //display: block;
    //transition: 0.3s
//}

//.sidenav a:hover, .offcanvas a:focus{
    //color: #f1f1f1;
//}

//.sidenav .closebtn {
    //position: absolute;
    //top: 0;
    //right: 25px;
    //font-size: 36px;
    //margin-left: 50px;
//}

//@media screen and (max-height: 450px) {
  //.sidenav {padding-top: 15px;}
  //.sidenav a {font-size: 18px;}
//}
